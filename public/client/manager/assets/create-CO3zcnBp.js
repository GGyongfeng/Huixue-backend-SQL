var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(l,a,s)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,t=(e,l,a)=>new Promise(((s,r)=>{var t=e=>{try{d(a.next(e))}catch(l){r(l)}},u=e=>{try{d(a.throw(e))}catch(l){r(l)}},d=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,u);d((a=a.apply(e,l)).next())}));import{o as u,_ as d}from"./index-BUNx4JnC.js";/* empty css                *//* empty css               *//* empty css                       */import{g as o,O as n,m as p}from"./mutation-Dq-nSxHH.js";import{t as c,r as i,U as m,w as b,at as _,x as g,A as f,L as y,J as h,u as V,v,a2 as q,G as j,ah as U,I as x,O as w}from"./vue-vendor-DLFc8NEb.js";import{R as k,E as O,b as $,K as P,a4 as I,N as C,v as E,w as J,J as L,Q as N,B as R}from"./element-plus-Df8vcUUO.js";import"./other-vendor-BLeOv60h.js";const S={class:"page-content"},T=d(c({__name:"create",setup(e){const d=i(),c=u(),T=c.info.city||"天津",z=m(((e,t)=>{for(var u in t||(t={}))a.call(t,u)&&r(e,u,t[u]);if(l)for(var u of l(t))s.call(t,u)&&r(e,u,t[u]);return e})({},o(T)));b((()=>z.city),(e=>{z.district=n.districts[e][0]}));const A=m({tutor_code:[{required:!0,message:"请输入订单编号",trigger:"blur"}],student_gender:[{required:!0,message:"请选择学生性别",trigger:"change"}],teaching_type:[{required:!0,message:"请选择教学类型",trigger:"change"}],student_grade:[{required:!0,message:"请选择学生年级",trigger:"change"}],subjects:[{required:!0,message:"请选择补习科目",trigger:"change"}],district:[{required:!0,message:"请选择区域",trigger:"change"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],tutoring_time:[{required:!0,message:"请输入辅导时间",trigger:"blur"}],salary:[{required:!0,message:"请输入课时费",trigger:"blur"}],phone_number:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]}),B=_(),D=i(!1),F=e=>t(this,null,(function*(){if(e)try{yield e.validate((e=>t(this,null,(function*(){if(e){D.value=!0;try{const e=yield p.addTutor(z);if(200===e.code){O.success("创建成功");const e=c.info,l=(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});B.push({path:"/result/success",query:{title:"创建成功",subTitle:[`订单编号：${z.tutor_code}`,`创建时间：${l}`,`创建人员：${e.name||e.username}`,`所在城市：${z.city}${z.district}`,`联系电话：${z.phone_number}`].join("\n"),extraInfo:"订单创建成功，请返回列表查看",backPath:"/tutors/list"}})}else O.error(e.message||"创建失败")}catch(l){O.error("创建失败，请稍后重试")}}}))))}catch(l){}finally{D.value=!1}}));return(e,l)=>{const a=$,s=P,r=I,t=C,u=E,o=J,p=L,c=N,i=R,m=k;return v(),g("div",S,[l[36]||(l[36]=f("div",{class:"header"},[f("h3",null,"上传订单")],-1)),y(m,{ref_key:"formRef",ref:d,model:V(z),rules:V(A),"label-width":"120px",style:{"margin-top":"20px"}},{default:h((()=>[y(s,{prop:"tutor_code"},{label:h((()=>l[19]||(l[19]=[f("span",{class:"primary-label"},"订单编号",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(a,{modelValue:V(z).tutor_code,"onUpdate:modelValue":l[0]||(l[0]=e=>V(z).tutor_code=e),placeholder:"请输入订单编号"},null,8,["modelValue"])])),_:1}),y(s,{prop:"student_gender"},{label:h((()=>l[20]||(l[20]=[f("span",{class:"primary-label"},"学生性别",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(t,{modelValue:V(z).student_gender,"onUpdate:modelValue":l[1]||(l[1]=e=>V(z).student_gender=e)},{default:h((()=>[y(r,{value:"男"},{default:h((()=>l[21]||(l[21]=[q("男")]))),_:1}),y(r,{value:"女"},{default:h((()=>l[22]||(l[22]=[q("女")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),y(s,{prop:"teaching_type"},{label:h((()=>l[23]||(l[23]=[f("span",{class:"primary-label"},"教学类型",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(t,{modelValue:V(z).teaching_type,"onUpdate:modelValue":l[2]||(l[2]=e=>V(z).teaching_type=e)},{default:h((()=>[(v(!0),g(j,null,U(V(n).teaching_types,(e=>(v(),x(r,{key:e,value:e},{default:h((()=>[q(w(e),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(s,{prop:"student_grade"},{label:h((()=>l[24]||(l[24]=[f("span",{class:"primary-label"},"学生年级",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(o,{modelValue:V(z).student_grade,"onUpdate:modelValue":l[3]||(l[3]=e=>V(z).student_grade=e),placeholder:"请选择年级"},{default:h((()=>[(v(!0),g(j,null,U(V(n).student_grades,(e=>(v(),x(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(s,{prop:"subjects"},{label:h((()=>l[25]||(l[25]=[f("span",{class:"primary-label"},"补习科目",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(o,{modelValue:V(z).subjects,"onUpdate:modelValue":l[4]||(l[4]=e=>V(z).subjects=e),multiple:"",placeholder:"请选择补习科目"},{default:h((()=>[(v(!0),g(j,null,U(V(n).subjects,(e=>(v(),x(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(s,null,{label:h((()=>l[26]||(l[26]=[f("span",{class:"primary-label"},"教师要求",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},null,-1)]))),default:h((()=>[y(c,{gutter:40},{default:h((()=>[y(p,{xs:24,sm:12},{default:h((()=>[y(s,{label:"类型要求：",prop:"teacher_type"},{default:h((()=>[y(o,{modelValue:V(z).teacher_type,"onUpdate:modelValue":l[5]||(l[5]=e=>V(z).teacher_type=e),placeholder:"请选择教师类型"},{default:h((()=>[(v(!0),g(j,null,U(V(n).teacher_types,(e=>(v(),x(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),y(p,{xs:24,sm:12},{default:h((()=>[y(s,{label:"性别要求：",prop:"teacher_gender"},{default:h((()=>[y(o,{modelValue:V(z).teacher_gender,"onUpdate:modelValue":l[6]||(l[6]=e=>V(z).teacher_gender=e),placeholder:"请选择教师性别"},{default:h((()=>[y(u,{label:"男",value:"男"}),y(u,{label:"女",value:"女"}),y(u,{label:"无",value:"无"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),y(s,{prop:"order_tags"},{label:h((()=>l[27]||(l[27]=[f("span",{class:"primary-label"},"订单标签",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},null,-1)]))),default:h((()=>[y(o,{modelValue:V(z).order_tags,"onUpdate:modelValue":l[7]||(l[7]=e=>V(z).order_tags=e),multiple:"",placeholder:"请选择订单标签"},{default:h((()=>[(v(!0),g(j,null,U(V(n).order_tags,(e=>(v(),x(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(s,null,{label:h((()=>l[28]||(l[28]=[f("span",{class:"primary-label"},"地址信息",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(c,{gutter:20},{default:h((()=>[y(p,{xs:24,sm:8},{default:h((()=>[y(s,{label:"城市：",prop:"city"},{default:h((()=>[y(a,{modelValue:V(z).city,"onUpdate:modelValue":l[8]||(l[8]=e=>V(z).city=e),placeholder:"请输入城市"},null,8,["modelValue"])])),_:1})])),_:1}),y(p,{xs:24,sm:8},{default:h((()=>[y(s,{label:"区域：",prop:"district"},{default:h((()=>[y(o,{modelValue:V(z).district,"onUpdate:modelValue":l[9]||(l[9]=e=>V(z).district=e),placeholder:"请选择区域"},{default:h((()=>[(v(!0),g(j,null,U(V(n).districts[V(z).city],(e=>(v(),x(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),y(p,{xs:24,sm:8},{default:h((()=>[y(s,{label:"详细地址：",prop:"address"},{default:h((()=>[y(a,{modelValue:V(z).address,"onUpdate:modelValue":l[10]||(l[10]=e=>V(z).address=e),placeholder:"请输入详细地址"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),y(s,null,{label:h((()=>l[29]||(l[29]=[f("span",{class:"primary-label"},"学生情况",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},null,-1)]))),default:h((()=>[y(c,{gutter:20},{default:h((()=>[y(p,{xs:24,sm:12},{default:h((()=>[y(s,{label:"成绩情况：",prop:"grade_score"},{default:h((()=>[y(a,{modelValue:V(z).grade_score,"onUpdate:modelValue":l[11]||(l[11]=e=>V(z).grade_score=e),placeholder:"请输入成绩情况"},null,8,["modelValue"])])),_:1})])),_:1}),y(p,{xs:24,sm:12},{default:h((()=>[y(s,{label:"学生水平：",prop:"student_level"},{default:h((()=>[y(o,{modelValue:V(z).student_level,"onUpdate:modelValue":l[12]||(l[12]=e=>V(z).student_level=e),placeholder:"请选择学生水平"},{default:h((()=>[y(u,{label:"优秀",value:"优秀"}),y(u,{label:"较好",value:"较好"}),y(u,{label:"中等",value:"中等"}),y(u,{label:"不及格",value:"不及格"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),y(s,{prop:"tutoring_time"},{label:h((()=>l[30]||(l[30]=[f("span",{class:"primary-label"},"辅导时间",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(a,{modelValue:V(z).tutoring_time,"onUpdate:modelValue":l[13]||(l[13]=e=>V(z).tutoring_time=e),placeholder:"请输入辅导时间"},null,8,["modelValue"])])),_:1}),y(s,{prop:"salary"},{label:h((()=>l[31]||(l[31]=[f("span",{class:"primary-label"},"课时费",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(a,{modelValue:V(z).salary,"onUpdate:modelValue":l[14]||(l[14]=e=>V(z).salary=e),placeholder:"请输入课时费"},null,8,["modelValue"])])),_:1}),y(s,{prop:"phone_number"},{label:h((()=>l[32]||(l[32]=[f("span",{class:"primary-label"},"联系电话",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},"*",-1)]))),default:h((()=>[y(a,{modelValue:V(z).phone_number,"onUpdate:modelValue":l[15]||(l[15]=e=>V(z).phone_number=e),placeholder:"请输入联系电话"},null,8,["modelValue"])])),_:1}),y(s,{prop:"requirement_desc"},{label:h((()=>l[33]||(l[33]=[f("span",{class:"primary-label"},"具体要求",-1),f("span",{class:"label-colon"},"：",-1),f("span",{class:"label-required"},null,-1)]))),default:h((()=>[y(a,{modelValue:V(z).requirement_desc,"onUpdate:modelValue":l[16]||(l[16]=e=>V(z).requirement_desc=e),type:"textarea",rows:4,placeholder:"请输入具体要求"},null,8,["modelValue"])])),_:1}),y(s,null,{default:h((()=>[y(i,{type:"primary",onClick:l[17]||(l[17]=e=>F(V(d))),loading:V(D)},{default:h((()=>l[34]||(l[34]=[q(" 提交 ")]))),_:1},8,["loading"]),y(i,{onClick:l[18]||(l[18]=e=>{var l;(l=V(d))&&l.resetFields()})},{default:h((()=>l[35]||(l[35]=[q("重置")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-a29f9d36"]]);export{T as default};
